<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nachna - Dance Workshop Platform</title>
    
    <!-- Open Graph Meta Tags for Social Sharing -->
    <meta property="og:title" content="Discover {{ studio_name }} on Nachna">
    <meta property="og:description" content="Find amazing dance workshops at this studio and connect with talented instructors on Nachna!">
    <meta property="og:image" content="https://nachna.com/static/assets/nachna-logo-square.png">
    <meta property="og:url" content="{{ current_url }}">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Discover {{ studio_name }} on Nachna">
    <meta name="twitter:description" content="Find amazing dance workshops at this studio and connect with talented instructors!">
    <meta name="twitter:image" content="https://nachna.com/static/assets/nachna-logo-square.png">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0A0A0F 0%, #1A1A2E 25%, #16213E 50%, #0F3460 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            overflow-x: hidden;
        }
        
        .container {
            text-align: center;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
        }
        
        .logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #00D4FF, #9D4EDD);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            box-shadow: 0 8px 32px rgba(0, 212, 255, 0.3);
        }
        
        .logo svg {
            width: 40px;
            height: 40px;
            fill: white;
        }
        
        h1 {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, #00D4FF, #9D4EDD);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 0.5rem;
        }
        
        .studio-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: #00D4FF;
            margin-bottom: 2rem;
        }
        
        .description {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.5;
            margin-bottom: 2rem;
        }
        
        .download-buttons {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .download-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 0.75rem 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: white;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .download-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(0, 212, 255, 0.5);
            transform: translateY(-2px);
        }
        
        .download-btn img {
            width: 24px;
            height: 24px;
        }
        
        .footer {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.5);
            margin-top: 2rem;
        }
        
        .attempting {
            font-size: 0.9rem;
            color: #00D4FF;
            margin-bottom: 1rem;
        }
        
        @media (min-width: 480px) {
            .download-buttons {
                flex-direction: row;
            }
        }
        
        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #00D4FF;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <svg viewBox="0 0 24 24">
                <path d="M21 16V4a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM5 4h14v12H5V4z"/>
                <path d="M12 6v6l4-2-4-2z"/>
            </svg>
        </div>
        
        <h1>Nachna</h1>
        <div class="subtitle">Dance Workshop Platform</div>
        <div class="studio-name">{{ studio_name }}</div>
        
        <div class="attempting" id="attempting" style="display:none;">
            <span class="loading"></span>
            Attempting to open Nachna app...
        </div>
        
        <div class="description">
            Discover amazing dance workshops at {{ studio_name }} and connect with talented instructors!
        </div>
        
        <div class="download-buttons">
            <a href="#" class="download-btn" id="open-in-app">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyQzIgMTcuNTIgNi40OCAyMiAxMiAyMkMxNy41MiAyMiAyMiAxNy41MiAyMiAxMkMyMiA2LjQ4IDE3LjUyIDIgMTIgMlpNOSAxNkwxNC45IDEwLjFMMTMuNSA4LjZMMTIgMTBMOSAxMloiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4=" alt="Open">
                Open in Nachna
            </a>
            <a href="https://apps.apple.com/in/app/nachna/id6746702742" class="download-btn" id="ios-download">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE3LjA1IDIwLjI4QzE2LjEgMjEuMjMgMTQuOTQgMjEuNzQgMTMuNzEgMjEuNzRDMTIuNDggMjEuNzQgMTEuMzIgMjEuMjMgMTAuMzcgMjAuMjhMNC4wNSAxNC4wNkMzLjEgMTMuMTEgMi41OSAxMS45NSAyLjU5IDEwLjcyQzIuNTkgOS40OSAzLjEgOC4zMyA0LjA1IDcuMzhMMTAuMzcgMS4wNkMxMS4zMiAwLjExIDEyLjQ4IC0wLjQgMTMuNzEgLTAuNEMxNC45NCAtMC40IDE2LjEgMC4xMSAxNy4wNSAxLjA2TDIzLjM3IDcuMzhDMjQuMzIgOC4zMyAyNC44MyA5LjQ5IDI0LjgzIDEwLjcyQzI0LjgzIDExLjk1IDI0LjMyIDEzLjExIDIzLjM3IDE0LjA2TDE3LjA1IDIwLjI4WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+" alt="iOS">
                Download for iOS
            </a>
            <a href="https://play.google.com/store/apps/details?id=com.nachna" class="download-btn" id="android-download">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMgMTguNVY1LjVDMyA0LjEgNC4xIDMgNS41IDNIMTguNUMxOS45IDMgMjEgNC4xIDIxIDUuNVYxOC41QzIxIDE5LjkgMTkuOSAyMSAxOC41IDIxSDUuNUM0LjEgMjEgMyAxOS45IDMgMTguNVoiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIvPgo8cGF0aCBkPSJNOSAxMkwxMSAxNEwxNSAxMCIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIi8+Cjwvc3ZnPg==" alt="Android">
                Download for Android
            </a>
        </div>
        
        <div class="footer">
            If the app doesn't open automatically, download Nachna from your app store.
        </div>
    </div>

    <script>
        // Extract studio ID from URL
        const pathParts = window.location.pathname.split('/');
        const studioId = pathParts[pathParts.length - 1] || pathParts[pathParts.length - 2];
        
        // Attempt to open the app with deep link (no automatic web redirects)
        function attemptAppOpen() {
            const customSchemeUrl = `nachna://studio/${studioId}`;
            document.getElementById('attempting').style.display = 'block';
            window.location.href = customSchemeUrl;
        }
        
        // Detect platform and show appropriate download button
        function detectPlatform() {
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;
            const iosBtn = document.getElementById('ios-download');
            const androidBtn = document.getElementById('android-download');
            
            if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                // iOS device
                androidBtn.style.display = 'none';
            } else if (/android/i.test(userAgent)) {
                // Android device
                iosBtn.style.display = 'none';
            }
        }
        
        // Run on page load
        window.addEventListener('load', () => {
            detectPlatform();
            const btn = document.getElementById('open-in-app');
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                attemptAppOpen();
            });
        });
    </script>
</body>
</html> 